create database test;
use database test;
create table tbclass(id int default 1, score float default 1.5, class varchar(4) default 'xxxx', primary key(id));
show tables;
create table tbtest(id int, name varchar, class varchar, score float, birthday date, foreign key(id) references tbclass(id));
show tables;
create table tbtest2(id int, id1 float, id2 float, primary key(id, id1));
show tables;
create table tbtest3(idx int, idx1 float);
show tables;
alter table tbtest3 add constraint con1 foreign key (idx1, idx) references tbtest2(id1, id);
show tables;
create table tbfail1(id int, name varchar, class varchar, score float, birthday date, foreign key(id) references tbclass(score));
create table tbfail2(id int, name varchar, class varchar, score float, birthday date, foreign key(id) references tbclass(id1));
create table tbfail3(id float, name varchar, class varchar, score float, birthday date, foreign key(id) references tbclass(id));
alter table tbtest2 add constraint con1 foreign key (id, id1) references tbtest2(id, id1);
alter table tbtest3 add constraint con1 foreign key (idx1, idx) references tbtest2(id1, id);
alter table tbtest3 drop foreign key con1;
show tables;
alter table tbtest3 drop foreign key con1;
alter table tbtest3 add constraint con1 foreign key (idx1, idx) references tbtest2(id1, id);
show tables;
alter table tbtest3 add constraint con1 foreign key (idx1, idx) references tbtest2(id, id1);
alter table tbtest3 add constraint con1 foreign key (idx1, idx) references tbtest2(id, id2);
create table tbtest2(id int, name varchar, class varchar, score float, birthday date, foreign key(id) references tbtest2(id));
drop table tbclass;
exit;