create database test;
use test;
create table tbclass(id int not null default 1, score float not null default 1.5, class varchar(4) default 'xxxx');
show tables;
alter table tbclass add constraint idx1 unique key (id, score);
show tables;
alter table tbclass drop unique key idx1;
show tables;
alter table tbclass add constraint idx1 unique key (id);
show tables;
alter table tbclass add constraint fail1 unique key (id, class);
alter table tbclass add constraint idx1 unique key (id, score);
alter table tbclass add constraint fail2 unique key (id1);
alter table tbclass drop unique key idx2;
alter table tbclass drop unique key idx1;
show tables;
insert into tbclass values (2, 3.5, 'aaa');
desc tbclass;
insert into tbclass values (2, 4.5, 'bbb');
desc tbclass;
alter table tbclass add constraint fail1 unique key (id);
alter table tbclass add constraint idx1 unique key(id, score);
desc tbclass;
insert into tbclass values(2, 3.5, 'ccc');
alter table tbclass drop unique key idx1;
desc tbclass;
exit;